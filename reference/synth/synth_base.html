

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>SynthBase Class &mdash; SpiegeLib 0.0.4 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Audio Feature Extraction" href="../features.html" />
    <link rel="prev" title="SynthVST Class" href="synth_vst.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> SpiegeLib
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/getting_started.html">Getting Started</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core.html">Core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../synth.html">Synthesizers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="synth_vst.html">     SynthVST</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">     SynthBase</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Audio Feature Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../estimators.html">Estimators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../evaluation.html">Evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../network.html">Network</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../examples/examples_index.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contribution Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SpiegeLib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../synth.html">Synth Classes</a> &raquo;</li>
        
      <li>SynthBase Class</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/reference/synth/synth_base.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-spiegelib.synth.synth_base">
<span id="synthbase-class"></span><span id="synth-base"></span><h1>SynthBase Class<a class="headerlink" href="#module-spiegelib.synth.synth_base" title="Permalink to this headline">¶</a></h1>
<p>Synth Abstract Base Class</p>
<dl class="class">
<dt id="spiegelib.synth.SynthBase">
<em class="property">class </em><code class="sig-prename descclassname">spiegelib.synth.</code><code class="sig-name descname">SynthBase</code><span class="sig-paren">(</span><em class="sig-param">sample_rate=44100</em>, <em class="sig-param">buffer_size=512</em>, <em class="sig-param">midi_note=48</em>, <em class="sig-param">midi_velocity=127</em>, <em class="sig-param">note_length_secs=1.0</em>, <em class="sig-param">render_length_secs=2.0</em>, <em class="sig-param">overridden_params=None</em>, <em class="sig-param">clamp_params=True</em><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_rate</strong> (<em>int</em><em>, </em><em>optional</em>) – sampling rate for rendering audio, defaults to 44100</p></li>
<li><p><strong>buffer_size</strong> (<em>int</em><em>, </em><em>optional</em>) – buffer size for rendering audio, defaults to 512</p></li>
<li><p><strong>midi_note</strong> (<em>int</em><em>, </em><em>optional</em>) – midi note number used for rendering, 0-127, defaults to 40</p></li>
<li><p><strong>midi_velocity</strong> (<em>int</em><em>, </em><em>optional</em>) – midi velocity used for rendering. 0-127, defaults to 127</p></li>
<li><p><strong>note_length_secs</strong> (<em>float</em><em>, </em><em>optional</em>) – length of midi note in seconds, defaults to 1.0</p></li>
<li><p><strong>render_length_secs</strong> (<em>float</em><em>, </em><em>optional</em>) – length that audio is rendered for in total, defaults to 2.5</p></li>
<li><p><strong>overridden_params</strong> (<em>list</em><em>, </em><em>optional</em>) – a list of tuples containing the parameter index to override and the value to lock that parameter to, defaults to []</p></li>
<li><p><strong>clamp_params</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, parameter values will be forced to the acceptable
range of values. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>rendered_patch</strong> (<em>boolean</em>) – indicates whether a patch has been rendered yet, defaults to False</p></li>
<li><p><strong>parameters</strong> (<em>dict</em>) – parameter indices and names</p></li>
<li><p><strong>patch</strong> (<em>list</em>) – current patch values</p></li>
<li><p><strong>param_range</strong> (<em>tuple</em>) – Range of acceptable parameter values, defaults to (0.0, 1.0)</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="spiegelib.synth.SynthBase.set_patch">
<code class="sig-name descname">set_patch</code><span class="sig-paren">(</span><em class="sig-param">parameters</em><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.set_patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a new patch with updated parameter values with a list of flaots or a
list of tuples referring to parameter indices and values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parameters</strong> (<em>list</em>) – A list of floats or tuples. If passing in a list of numbers,
the length must be either the number of non-overridden parameters of the
number of total parameters for this synth. Parameter values will then be
mapped to corresponding parameter in order. If a list of tuples is provided,
the tuples must have the shape (int, float) where the int is the parameter
number and the float is the parameter value.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.load_patch">
<em class="property">abstract </em><code class="sig-name descname">load_patch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.load_patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Must be overridden. Load current patch into synth engine</p>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.render_patch">
<em class="property">abstract </em><code class="sig-name descname">render_patch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.render_patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Must be overridden. Should render audio for the currently loaded patch</p>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.get_audio">
<em class="property">abstract </em><code class="sig-name descname">get_audio</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.get_audio" title="Permalink to this definition">¶</a></dt>
<dd><p>This method must be overridden and should return an audio buffer rendered
during the last call to render_patch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An audio buffer of float audio samples with a value between -1 &amp; 1</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">spiegelib.core.audio_buffer.AudioBuffer</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.randomize_patch">
<em class="property">abstract </em><code class="sig-name descname">randomize_patch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.randomize_patch" title="Permalink to this definition">¶</a></dt>
<dd><p>This method must be overridden and should have the effect
of randomizing parameters of the synthesizer. Overridden methods should be
uneffected by this randomization</p>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.get_random_example">
<code class="sig-name descname">get_random_example</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.get_random_example" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns audio from a new random patch</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An audio buffer</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.get_parameters">
<code class="sig-name descname">get_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.get_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns parameters for the synth</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary of parameters with the parameter index (int) as the key
and the parameter name short description as the value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.get_patch">
<code class="sig-name descname">get_patch</code><span class="sig-paren">(</span><em class="sig-param">skip_overridden=True</em><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.get_patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Get current patch</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>skip_overridden</strong> (<em>bool</em><em>, </em><em>optional</em>) – Indicates whether to remove overridden parameters
from results, defaults to True</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.set_overridden_parameters">
<code class="sig-name descname">set_overridden_parameters</code><span class="sig-paren">(</span><em class="sig-param">parameters</em><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.set_overridden_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Override parameters with specific values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parameters</strong> – List of parameter tuples with parameter index and parameter
value that will be patched and then the parameter frozen.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.save_state">
<code class="sig-name descname">save_state</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.save_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Save parameters and current state to a JSON file. Includes whether or not
a parameter has been overridden so this can be used to save synth configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – Location to save JSON file to</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.load_state">
<code class="sig-name descname">load_state</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.load_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Load parameter state from JSON file. Will set a new patch and overridden
parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – Location to load JSON file from</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.load_synth_config">
<em class="property">static </em><code class="sig-name descname">load_synth_config</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.load_synth_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads and extracts patch setting and overridden parameters from a saved
synth JSON file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – location to load JSON file from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>patch list and overridden parameter list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list, list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spiegelib.synth.SynthBase.expand_sub_patch">
<em class="property">static </em><code class="sig-name descname">expand_sub_patch</code><span class="sig-paren">(</span><em class="sig-param">patch</em>, <em class="sig-param">param_indices</em>, <em class="sig-param">overridden</em><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.synth.SynthBase.expand_sub_patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an ordered list of parameter values into a list of tuples containing
the parameter indices linked to the parameter values. Does so by comparing
the overridden parameters to the full list of paramater indices and using
the differences to label the patch values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patch</strong> (<em>list</em>) – An ordered list of parameter values</p></li>
<li><p><strong>param_indices</strong> (<em>list</em>) – A full list of all parameter indices</p></li>
<li><p><strong>overridden</strong> (<em>list of tuples</em>) – A list of tuples which contain the parameter
indices and values of the overridden parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of tuples representing a full patch setting</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../features.html" class="btn btn-neutral float-right" title="Audio Feature Extraction" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="synth_vst.html" class="btn btn-neutral float-left" title="SynthVST Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, University of Victoria

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>