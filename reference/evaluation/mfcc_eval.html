

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MFCCEval Class &mdash; SpiegeLib 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Subjective Class" href="subjective.html" />
    <link rel="prev" title="EvaluationBase Class" href="evaluation_base.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> SpiegeLib
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/getting_started.html">Getting Started</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../synth.html">Synthesizers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Audio Feature Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../estimators.html">Estimators</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../evaluation.html">Evaluation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="evaluation_base.html">     EvaluationBase</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">     MFCCEval</a></li>
<li class="toctree-l2"><a class="reference internal" href="subjective.html">Subjective</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../examples/examples_index.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contribution Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SpiegeLib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../evaluation.html">Evaluation Classes</a> &raquo;</li>
        
      <li>MFCCEval Class</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/reference/evaluation/mfcc_eval.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-spiegelib.evaluation.mfcc_eval">
<span id="mfcceval-class"></span><span id="mfcc-eval"></span><h1>MFCCEval Class<a class="headerlink" href="#module-spiegelib.evaluation.mfcc_eval" title="Permalink to this headline">¶</a></h1>
<p>Audio evaluation using MFCC error between targets and estimations. See
<a class="reference internal" href="evaluation_base.html#spiegelib.evaluation.EvaluationBase" title="spiegelib.evaluation.EvaluationBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationBase</span></code></a> for documentation of methods for
running objective evaluation using inheriting classes, such as this one.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">spiegelib</span> <span class="k">as</span> <span class="nn">spgl</span>

<span class="n">targets</span> <span class="o">=</span> <span class="n">spgl</span><span class="o">.</span><span class="n">AudioBufer</span><span class="p">(</span><span class="s1">&#39;./folder_of_target_audio_files&#39;</span><span class="p">)</span>
<span class="n">ga_predictions</span> <span class="o">=</span> <span class="n">spgl</span><span class="o">.</span><span class="n">AudioBuffer</span><span class="p">(</span><span class="s1">&#39;./folder_of_ga_predictions&#39;</span><span class="p">)</span>
<span class="n">mlp_predictions</span> <span class="o">=</span> <span class="n">spgl</span><span class="o">.</span><span class="n">AudioBuffer</span><span class="p">(</span><span class="s1">&#39;./folder_of_mlp_predictions&#39;</span><span class="p">)</span>
<span class="n">estimations</span> <span class="o">=</span> <span class="p">[</span><span class="n">ga_predictions</span><span class="p">,</span> <span class="n">mlp_predictions</span><span class="p">]</span>

<span class="c1"># Instantiate evaluation with audio buffers and run evaluation</span>
<span class="n">evaluation</span> <span class="o">=</span> <span class="n">spgl</span><span class="o">.</span><span class="n">evaluation</span><span class="o">.</span><span class="n">MFCCEval</span><span class="p">(</span><span class="n">targets</span><span class="p">,</span> <span class="n">estimations</span><span class="p">)</span>
<span class="n">evaluation</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span>

<span class="c1"># Save raw results and stats of results as JSON</span>
<span class="n">evaluation</span><span class="o">.</span><span class="n">save_scores_json</span><span class="p">(</span><span class="s1">&#39;./mfcc_results.json&#39;</span><span class="p">)</span>
<span class="n">evaluation</span><span class="o">.</span><span class="n">save_stats_json</span><span class="p">(</span><span class="s1">&#39;./mfcc_eval_stats.json&#39;</span><span class="p">)</span>

<span class="c1"># Plot a histogram of GA predictions using mean absolute error metrics</span>
<span class="n">evaluation</span><span class="o">.</span><span class="n">plot_hist</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;mean_abs_error&#39;</span><span class="p">)</span>

<span class="c1"># Plot a histogram of MLP predictions using mean absulote error metrics</span>
<span class="n">evaluation</span><span class="o">.</span><span class="n">plot_hist</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;mean_abs_error&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="spiegelib.evaluation.MFCCEval">
<em class="property">class </em><code class="sig-prename descclassname">spiegelib.evaluation.</code><code class="sig-name descname">MFCCEval</code><span class="sig-paren">(</span><em class="sig-param">targets</em>, <em class="sig-param">estimations</em>, <em class="sig-param">sample_rate=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.evaluation.MFCCEval" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">spiegelib.evaluation.evaluation_base.EvaluationBase</span></code></p>
<p>Pass in a list of target <a class="reference internal" href="../core/audio_buffer.html#spiegelib.AudioBuffer" title="spiegelib.AudioBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AudioBuffer</span></code></a> objects and lists of
estimated <a class="reference internal" href="../core/audio_buffer.html#spiegelib.AudioBuffer" title="spiegelib.AudioBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AudioBuffer</span></code></a> objects for each target.</p>
<p>Example Input:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="n">target_1</span><span class="p">,</span> <span class="n">target_2</span><span class="p">]</span>
<span class="n">estimations</span> <span class="o">=</span> <span class="p">[[</span><span class="n">prediction_1_for_target_1</span><span class="p">,</span> <span class="n">prediction_2_for_target_1</span><span class="p">],</span>
               <span class="p">[</span><span class="n">prediction_1_for_target_2</span><span class="p">,</span> <span class="n">prediction_2_for_target_2</span><span class="p">]]</span>
</pre></div>
</div>
<p>Where prediction_1 and prediction_2 would represent results from two different
methods or sources. For example, audio for all prediction_1 samples might be
from a GA and all audio for prediction_2 samples might be from a deep learning
approach.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>targets</strong> (<em>list</em>) – a list of <a class="reference internal" href="../core/audio_buffer.html#audio-buffer"><span class="std std-ref">AudioBuffer</span></a> objects to use
as the ground truth for evaluation</p></li>
<li><p><strong>estimations</strong> (<em>lits</em>) – a 2D list of <a class="reference internal" href="../core/audio_buffer.html#audio-buffer"><span class="std std-ref">AudioBuffer</span></a> objects.
Should contain a list of AudioBuffers for each target. The position of an
AudioBuffer in each list is used to distinguish between different
audio sources. For example, if you are comparing two different
synthesizer programming methods, then you would want to make sure to
have the results from each method in the same position in each list.</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em><em>, </em><em>optional</em>) – sample rate to run feature extraction at. Defaults
to the audio rate of the first target.</p></li>
<li><p><strong>kwargs</strong> – Keyword arguments to pass into <a class="reference internal" href="evaluation_base.html#spiegelib.evaluation.EvaluationBase" title="spiegelib.evaluation.EvaluationBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationBase</span></code></a></p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="spiegelib.evaluation.MFCCEval.evaluate_target">
<code class="sig-name descname">evaluate_target</code><span class="sig-paren">(</span><em class="sig-param">target</em>, <em class="sig-param">predictions</em><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.evaluation.MFCCEval.evaluate_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Called automatically by <a class="reference internal" href="evaluation_base.html#spiegelib.evaluation.EvaluationBase.evaluate" title="spiegelib.evaluation.EvaluationBase.evaluate"><code class="xref py py-func docutils literal notranslate"><span class="pre">spiegelib.evaluation.EvaluationBase.evaluate()</span></code></a></p>
<p>Evaluates difference between a target <a class="reference internal" href="../core/audio_buffer.html#audio-buffer"><span class="std std-ref">AudioBuffer</span></a> and
a list of estimation <a class="reference internal" href="../core/audio_buffer.html#audio-buffer"><span class="std std-ref">AudioBuffers</span></a>. Calculates mean absolute
error, mean squared error, euclidian distance, and manhattan distance on results
and returns a dictionary for each estimation with results in a list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>list</em>) – Audio to use as ground truth in evaluation</p></li>
<li><p><strong>predictions</strong> (<em>list</em>) – list of <a class="reference internal" href="../core/audio_buffer.html#audio-buffer"><span class="std std-ref">AudioBuffer</span></a> objects to evaluate
against the target audio file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of dictionaries with stats for each prediction evaluation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spiegelib.evaluation.MFCCEval.verify_input_list">
<code class="sig-name descname">verify_input_list</code><span class="sig-paren">(</span><em class="sig-param">input_list</em><span class="sig-paren">)</span><a class="headerlink" href="#spiegelib.evaluation.MFCCEval.verify_input_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Overriding verification method to check for AudioBuffers. Called automatically
during construction.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="subjective.html" class="btn btn-neutral float-right" title="Subjective Class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="evaluation_base.html" class="btn btn-neutral float-left" title="EvaluationBase Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, University of Victoria

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>